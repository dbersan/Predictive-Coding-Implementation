full_dataset = true;

if full_dataset
    title2 = " Performance on IMAGENET";

    % % 
    % % % ----------------------------------
    % % % MNIST-feat100-1
    % % 
    % % % Dataset: MNIST
    % % % Data Type: Features
    % % % Percentage of data: 100%
    % % % Architecture: [784,500,500,10]
    % % % Ativation: Sigmoid
    % % % Optimizer: adam
    % % 
    Train_loss_feat=[0.02533634088086015, 0.018595247696627487, 
        0.015627765412435747, 0.013791629862278016, 
        0.01264401472975138, 0.011920916863483505, 
        0.011427630381597085, 0.010979362317752204, 
        0.01062525118214652, 0.01025960862125063, 0.009975654645667215, 
        0.009723138001495917, 0.009492068898402088, 0.009282414086413603, 
        0.0091583451163257]*10
    
    Train_accuracy_feat=[87.685, 90.56833333333333, 92.01666666666667, 92.81833333333334, 
        93.31666666666666, 93.61, 93.83333333333333, 94.03833333333334, 94.22333333333334,
        94.42166666666667, 94.53833333333334, 94.675, 94.81166666666667, 94.89166666666667,
        95.02166666666668]
    
    Valid_loss_feat=[0.02539761433614275, 0.017589043681223323, 
        0.015101464281869611, 0.013292477982219745, 0.012235061958027134, 
        0.011537550934974088, 0.011106268731327792, 0.010780540064734901,
        0.010543022949671275, 0.010236460730039075, 0.010046285076479472,
        0.009873794701150344, 0.009706055301120389, 0.009556784679067185,
        0.009494440921944894]*10
    
    Valid_accuracy_feat=[88.09, 91.36999999999999, 92.58, 93.24, 
        94.02000000000001, 94.28999999999999, 94.45, 94.58, 94.66, 94.71000000000001, 94.77, 94.88, 
        94.94, 94.99, 95.1]

    % % % ----------------------------------
    % % % MNIST-raw100-1
    % % 
    % % % Dataset: MNIST
    % % % Data Type: Raw
    % % % Percentage of data: 100%
    % % % Architecture: [784,500,500,10]
    % % % Ativation: Sigmoid
    % % % Optimizer: adam
    % % % 
    Train_loss=[0.008832917410186767, 0.004518496031477724, 0.0031850113197128306, 0.0023707651973511527, 0.001742001177620836, 0.001351021953606554, 0.0010757665892788576, 0.0009610659502402181, 0.0007745536081790572, 0.0006024458257862261, 0.0005446291770354906, 0.003423635604168046, 0.00311656070798234, 0.001372659150710142, 0.0006909691060092005]*10
    Train_accuracy=[95.28833333333333, 97.39833333333333, 98.27666666666667, 98.78, 99.16, 99.40333333333334, 99.53999999999999, 99.59833333333333, 99.72999999999999, 99.78833333333334, 99.82833333333333, 98.75833333333334, 98.65, 99.46666666666667, 99.77000000000001]
    Valid_loss=[0.008980646508679753, 0.005090042920349676, 0.004143742140714181, 0.0036127023597782065, 0.003192150241271929, 0.0030159601546733113, 0.002913133600057493, 0.0029741263319949455, 0.002813968550380026, 0.0027737856869030817, 0.00277790223557955, 0.004690569033389889, 0.004772705191889265, 0.003311429348722569, 0.002916657471355432]*10
    Valid_accuracy=[95.12, 96.96000000000001, 97.49, 97.83, 97.92999999999999, 98.06, 98.15, 98.18, 98.26, 98.22999999999999, 98.25, 97.43, 97.26, 97.98, 98.26]

    % % % ----------------------------------
    % % % MNIST-raw100-backprop
    % % 
    % % % Dataset: MNIST
    % % % Data Type: Raw
    % % % Percentage of data: 100%
    % % % Architecture: [784,500,500,10]
    % % % Ativation: Sigmoid
    % % % Optimizer: adam
    % 
    Train_loss_backprop=[0.443928599357605, 0.36491701006889343, 0.3423626720905304, 0.3299423158168793, 0.322003036737442, 0.31568849086761475, 0.31220415234565735, 0.30769702792167664, 0.3067339062690735, 0.3014183044433594, 0.29968664050102234, 0.2983945608139038, 0.29641637206077576, 0.2954137623310089, 0.29333311319351196]
    Train_accuracy_backprop=[0.8720999956130981, 0.8961833119392395, 0.9041000008583069, 0.9071499705314636, 0.909333348274231, 0.9097499847412109, 0.9125833511352539, 0.9143499732017517, 0.913100004196167, 0.915149986743927, 0.916533350944519, 0.9157666563987732, 0.917033314704895, 0.9171333312988281, 0.9166333079338074]*100
    Valid_loss_backprop=[0.38027223944664, 0.34342893958091736, 0.334941029548645, 0.35901007056236267, 0.33221039175987244, 0.3113900125026703, 0.31387630105018616, 0.3402581512928009, 0.3321443796157837, 0.31318581104278564, 0.3307426869869232, 0.3236786723136902, 0.3266579210758209, 0.3073680102825165, 0.33778443932533264]
    Valid_accuracy_backprop=[0.8903999924659729, 0.9072999954223633, 0.9052000045776367, 0.8939999938011169, 0.9057000279426575, 0.9126999974250793, 0.9146999716758728, 0.9046000242233276, 0.9065999984741211, 0.9178000092506409, 0.90829998254776, 0.9122999906539917, 0.9114000201225281, 0.9164000153541565, 0.9128999710083008]*100


else
    title2 = "Performance on IMAGENET [fraction of data used]";

    % ----------------------------------
    % MNIST-feat20-1

    % Dataset: MNIST
    % Data Type: Features
    % Percentage of data: 20%
    % Architecture: [784,500,500,10]
    % Ativation: Sigmoid
    % % Optimizer: adam

    Train_loss_feat= [0.04811954337277718, 0.03905975125680167, 0.03415916110449904, 0.02990436080694336, 0.02501367174137474, 0.02248602781850827, 0.02079614788691005, 0.019509411251905844, 0.018510659793052726, 0.01771066599907997, 0.01702871569318902, 0.01642770903604127, 0.01592878518926152, 0.015521637039843873, 0.015198743860136223]*10
    Train_accuracy_feat= [72.16666666666667, 77.2, 81.11666666666667, 84.97166666666666, 88.12, 89.03666666666666, 89.63, 90.115, 90.49000000000001, 90.83666666666666, 91.17833333333333, 91.485, 91.71166666666667, 91.85333333333332, 91.975]
    Valid_loss_feat= [0.0474562508132969, 0.038070567851489365, 0.03371544464295973, 0.03026735856619801, 0.0249721823425384, 0.022188707273810296, 0.020332208125882507, 0.018984774360053962, 0.01798308682077307, 0.017205876699101258, 0.01653412101851553, 0.015946624178665953, 0.015449838320010907, 0.015042737843393227, 0.014723514496820462]*10
    Valid_accuracy_feat= [72.38, 78.78, 82.54, 85.83, 88.64999999999999, 89.89, 90.33, 90.86, 91.21000000000001, 91.67, 91.92, 92.07, 92.30000000000001, 92.41, 92.54]

    % % ----------------------------------
    % % MNIST-raw20-1
    % 
    % % Dataset: MNIST
    % % Data Type: Raw
    % % Percentage of data: 20%
    % % Architecture: [784,500,500,10]
    % % Ativation: Sigmoid
    % % Optimizer: adam


    Train_loss = [0.020453374641969994, 0.015370725833592084, 0.012185497629308128, 0.01009113577881716, 0.008487831040197534, 0.007477895833703164, 0.006697119162578446, 0.00610890602714745, 0.005664598875245947, 0.0053438196138773115, 0.005132944630909333, 0.004998643589461351, 0.004910888514378305, 0.0048573147389844185, 0.004882024128242934]*10
    Train_accuracy= [90.10000000000001, 92.16, 93.43166666666667, 94.34333333333333, 94.98833333333333, 95.46, 95.88166666666666, 96.24666666666667, 96.50333333333333, 96.68833333333333, 96.79666666666667, 96.85666666666667, 96.84833333333333, 96.82333333333332, 96.77833333333334]
    Valid_loss = [0.020376544405025974, 0.015404468315066778, 0.012352834022101212, 0.010382176719784088, 0.008867483838844899, 0.007948023051568946, 0.0072533019458708246, 0.006737254240031898, 0.006359610092461254, 0.006100639234881784, 0.005937007945839235, 0.005830488886348567, 0.0057610305565019, 0.005752406815580369, 0.005827648167210424]*10
    Valid_accuracy = [90.12, 92.11, 93.26, 94.11, 94.67, 95.06, 95.39999999999999, 95.67999999999999, 95.93, 96.09, 96.21, 96.37, 96.38, 96.39, 96.22]

    % % % MNIST-raw20-backprop
    % % 
    % % % Dataset: MNIST
    % % % Data Type: Raw
    % % % Percentage of data: 20%
    % % % Architecture: [784,500,500,10]
    % % % Ativation: Sigmoid
    % % % Optimizer: adam
    % 
    Train_loss_backprop=[0.5560364723205566, 0.404889851808548, 0.36344873905181885, 0.3388518989086151, 0.31995871663093567, 0.310770183801651, 0.3042895793914795, 0.28557896614074707, 0.2833245098590851, 0.2773256301879883, 0.2697001099586487, 0.25358644127845764, 0.25785329937934875, 0.24810612201690674, 0.24012109637260437]
    Train_accuracy_backprop=[0.843833327293396, 0.8866666555404663, 0.8951666951179504, 0.9034166932106018, 0.9071666598320007, 0.9104166626930237, 0.9129166603088379, 0.9150000214576721, 0.9158333539962769, 0.918749988079071, 0.9200000166893005, 0.9255833625793457, 0.9244999885559082, 0.9271666407585144, 0.9304999709129333]*100
    Valid_loss_backprop=[0.45301538705825806, 0.49553486704826355, 0.4333522915840149, 0.4264564514160156, 0.40919798612594604, 0.40281346440315247, 0.4082741141319275, 0.44748538732528687, 0.42607372999191284, 0.45758500695228577, 0.43464115262031555, 0.41118955612182617, 0.41850581765174866, 0.43343406915664673, 0.45571625232696533]
    Valid_accuracy_backprop=[0.8716999888420105, 0.8658999800682068, 0.8784999847412109, 0.8848999738693237, 0.8853999972343445, 0.8924000263214111, 0.8884000182151794, 0.8805000185966492, 0.8881000280380249, 0.8830999732017517, 0.8906000256538391, 0.8945000171661377, 0.8901000022888184, 0.8888000249862671, 0.8889999985694885]*100
    % 
end



subplot(2,1,1);

plot(Train_accuracy, 'LineWidth',3)
hold on

plot(Valid_accuracy, '--','LineWidth',3)
hold on

plot(Train_accuracy_feat, 'LineWidth',3);
hold on

plot(Valid_accuracy_feat, '--','LineWidth',3);
hold on

plot(Train_accuracy_backprop, 'LineWidth',3)
hold on

plot(Valid_accuracy_backprop, '--','LineWidth',3)
hold off

legend('Train (PC)', 'Validation (PC)', 'Train (PC + Features)', 'Validation (PC + Features)', 'Train (Backprop)', 'Validation (Backprop)', 'FontSize', 12)
title('Metric: Accuracy', 'FontSize', 13)
xlabel('Epoch', 'FontSize', 13) 
ylabel('Accuracy (perc.)', 'FontSize', 13)

% Set plot 1 ranges
set(gca,'XTick',1:15);
axis([1 15 70 100])


subplot(2,1,2);

plot(Train_loss, 'LineWidth',3);
hold on

plot(Valid_loss, '--','LineWidth',3);
hold on

plot(Train_loss_feat, 'LineWidth',3);
hold on

h =  plot(Valid_loss_feat, '--','LineWidth',3);
hold on

plot(Train_loss_backprop, 'LineWidth',3)
hold on

plot(Valid_loss_backprop, '--','LineWidth',3)
hold off

legend('Train (PC)', 'Validation (PC)', 'Train (PC + Features)', 'Validation (PC + Features)', 'Train (Backprop)', 'Validation (Backprop)', 'FontSize', 12)
title('Metric: Loss', 'FontSize', 13)
xlabel('Epoch', 'FontSize', 13) 
ylabel('Loss', 'FontSize', 13) 

% Set plot 2 ranges
set(gca,'XTick',1:15);
axis([1 15 0 0.95])


% No scientific notation
ax = ancestor(h, 'axes');
ax.XAxis.Exponent = 0;
xtickformat('%.0f'); 

% Padronize window size
x0=50;
y0=50;
width=980;
height=800;
set(gcf,'position',[x0,y0,width,height])

sgtitle(title2, 'FontSize', 15) 



























