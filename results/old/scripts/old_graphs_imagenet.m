full_dataset = false;

if full_dataset
    title2 = " Performance on IMAGENET 32x32";

    % % 
    % % % ----------------------------------
    % % % IMAGENET-feat100-1
    % % 
    % % % Dataset: IMAGENET
    % % % Data Type: Features-PC
    % % % Percentage of data: 100%
    % % % Architecture: [512,1024,10]
    % % % Ativation: Sigmoid
    % % % Optimizer: adam
    
    % % OK
    Train_loss_feat=[0.23538183332707166, 0.21898752002805955, 0.21693048565324238, 0.2165673175242183, 0.2150131090283994, 0.21214279126436936, 0.21038483414008982, 0.21000131419009835, 0.2098469717221662, 0.20933686233119475, 0.20858825399255657, 0.20789450639538645, 0.20739384945388206, 0.20708556511599496, 0.2068964568826757]
    Train_accuracy_feat=[17.534006595218464, 23.70671887881286, 27.45259686727123, 28.740725474031326, 29.52390766694147, 30.234954657873043, 30.35346248969497, 30.224649629018963, 30.31739488870569, 30.84295136026381, 31.693116240725473, 32.30111294311624, 32.90395713107997, 33.40375103050289, 33.795342126957955]
    Valid_loss_feat=[0.23654678521736486, 0.22096643502744062, 0.21918506560243148, 0.21897129010109762, 0.21760818565509155, 0.21500197604451218, 0.2134822649550982, 0.21325495570108782, 0.21321621688523557, 0.21282142390267428, 0.21219469944103872, 0.21162874837478543, 0.2112655558968036, 0.21110909719578264, 0.211090845466972]
    Valid_accuracy_feat=[16.584158415841586, 22.174092409240924, 25.866336633663366, 26.65016501650165, 27.207095709570954, 27.61963696369637, 27.289603960396043, 27.145214521452143, 27.00082508250825, 27.145214521452143, 27.64026402640264, 27.784653465346537, 27.970297029702973, 28.54785478547855, 28.795379537953796]

    % % % ----------------------------------
    % % % IMAGENET-raw100-1
    % % 
    % % % Dataset: IMAGENET
    % % % Data Type: Raw
    % % % Percentage of data: 100%
    % % % Architecture: [3082,500,500,10]
    % % % Ativation: Sigmoid
    % % % Optimizer: adam
    
    % % % ok
    Train_loss=[0.2144998301064365, 0.21344855452526193, 0.21289296609722655, 0.21257849445671817, 0.21247965593678267, 0.21211221228871735, 0.21217905187942204, 0.21170834611175604, 0.21186077761910088, 0.21181854346790793, 0.21174282093414326, 0.21147516241287714, 0.21096949009034108, 0.2106507106767001, 0.21046082050662615]
    Train_accuracy=[14.071516900247321, 16.02431986809563, 17.157873042044518, 17.04967023907667, 17.693734542456717, 18.00288540807914, 17.910140148392415, 18.198680956306678, 18.23474855729596, 18.291426215993408, 18.245053586150043, 18.543899422918383, 19.471352019785655, 19.100370981038747, 19.224031327287715]
    Valid_loss=[0.21433078271971195, 0.2133876496671163, 0.21285637193044463, 0.21267442395506095, 0.21264579252276047, 0.2123434194617841, 0.21261524816753216, 0.2122185481742999, 0.21248295329052963, 0.21268594495450047, 0.21232427324943148, 0.21217195724444143, 0.21181882363728885, 0.2116846041548423, 0.21167168351348295]
    Valid_accuracy=[14.005775577557756, 15.532178217821782, 16.976072607260726, 17.26485148514851, 17.326732673267326, 17.40924092409241, 16.76980198019802, 17.09983498349835, 17.326732673267326, 16.76980198019802, 17.223597359735972, 17.42986798679868, 17.82178217821782, 17.491749174917494, 17.801155115511552]
    % % % ----------------------------------
    % % % IMAGENET-raw100-backprop
    % % 
    % % % Dataset: IMAGENET
    % % % Data Type: Raw
    % % % Percentage of data: 100%
    % % % Architecture: [3082,500,500,10]
    % % % Ativation: Sigmoid
    % % % Optimizer: adam
    
    % 
    Train_loss_backprop=[0.21482491493225098, 0.21075913310050964, 0.208079993724823, 0.20638751983642578, 0.20536237955093384, 0.2062048763036728, 0.20561622083187103, 0.2054358273744583, 0.2059136927127838, 0.20648294687271118, 0.20611132681369781, 0.20674312114715576, 0.20767565071582794, 0.20889128744602203, 0.2095700055360794]
    Train_accuracy_backprop=[0.12082725763320923, 0.19265425205230713, 0.2376212179660797, 0.26001888513565063, 0.26559683680534363, 0.25281044840812683, 0.2649103105068207, 0.26104864478111267, 0.2562430202960968, 0.24491547048091888, 0.24620269238948822, 0.2365056276321411, 0.22329014539718628, 0.21067535877227783, 0.1960868388414383]*100;
    Valid_loss_backprop=[0.21087796986103058, 0.20931118726730347, 0.20499205589294434, 0.20393088459968567, 0.2076040357351303, 0.2050783634185791, 0.20592284202575684, 0.204937145113945, 0.20534318685531616, 0.2077069878578186, 0.20707204937934875, 0.2064274549484253, 0.2067788690328598, 0.20976124703884125, 0.2080552875995636]
    Valid_accuracy_backprop=[0.186341792345047, 0.2240905910730362, 0.267330139875412, 0.2786547839641571, 0.23610158264636993, 0.27385038137435913, 0.27487990260124207, 0.26870280504226685, 0.2505147457122803, 0.2460535317659378, 0.2405627965927124, 0.2323267012834549, 0.2515442669391632, 0.1921757012605667, 0.21551132202148438]*100;
else
    title2 = "Performance on IMAGENET 32x32 [fraction of data used]";

    % ----------------------------------
    % IMAGENET-feat20-1

    % Dataset: IMAGENET
    % Data Type: Features
    % Percentage of data: 20%
    % Architecture: [3082,1024,10]
    % Ativation: Sigmoid
    % % Optimizer: adam
    
    % 
    Train_loss_feat=[0.22091827180707413, 0.21973348241161622, 0.21825082290649422, 0.2196013921369013, 0.2227620758974296, 0.2239774425367429, 0.2231541963298103, 0.22107364466045903, 0.2181481367028703, 0.2151938943973802, 0.21294834359250267, 0.21132998307706943, 0.2101343210426302, 0.2091889118101819, 0.2084321244366214]
    Train_accuracy_feat=[15.005165289256198, 17.613636363636363, 21.358471074380166, 20.867768595041323, 18.517561983471072, 19.085743801652892, 21.17768595041322, 23.37293388429752, 25.439049586776857, 27.091942148760328, 29.313016528925615, 30.346074380165287, 31.017561983471076, 32.28305785123967, 33.23863636363637]
    Valid_loss_feat=[0.22221076020298597, 0.2220452167540317, 0.22146382521385347, 0.2235557025187225, 0.22723987618532326, 0.2288957248180012, 0.22855215242265334, 0.22701783091059374, 0.22471613891717837, 0.22242066941163022, 0.22079665361915649, 0.2197463078597859, 0.21907844439408594, 0.21863435606205728, 0.21835751234796347]
    Valid_accuracy_feat=[15.016501650165019, 16.295379537953796, 18.028052805280527, 17.36798679867987, 16.150990099009903, 16.377887788778878, 17.244224422442244, 18.296204620462046, 19.389438943894387, 20.668316831683168, 21.555280528052805, 22.02970297029703, 22.524752475247524, 23.04042904290429, 23.32920792079208]
    % % ----------------------------------
    % % IMAGENET-raw20-1
    % 
    % % Dataset: IMAGENET
    % % Data Type: Raw
    % % Percentage of data: 20%
    % % Architecture: [3082,500,500,10]
    % % Ativation: Sigmoid
    % % Optimizer: adam

    % ok
    Train_loss=[0.2180419312894755, 0.21546745670581738, 0.21463057474532846, 0.2137661539014902, 0.21322174299925262, 0.21271936789521362, 0.21234084529503067, 0.2121980479099846, 0.21173342871346257, 0.21158264025167056, 0.2110946533196507, 0.21095749228404892, 0.21083908529255943, 0.21085204699831894, 0.2104230838210383]
    Train_accuracy=[11.699380165289258, 11.8801652892562, 11.90599173553719, 14.359504132231404, 15.702479338842975, 16.038223140495866, 16.58057851239669, 16.65805785123967, 17.303719008264462, 17.200413223140494, 17.691115702479337, 17.25206611570248, 17.97520661157025, 17.665289256198346, 18.414256198347108]
    Valid_loss=[0.2190622278004797, 0.21602462186998458, 0.21538583759255525, 0.21483614302941573, 0.21456242984460816, 0.2142959538350953, 0.21397365194076595, 0.21420369733984243, 0.21371138872133766, 0.213952101125623, 0.2133741452668407, 0.21349927549893538, 0.21363123191775138, 0.21384055524459583, 0.21370535380508734]
    Valid_accuracy=[10.354785478547855, 11.138613861386139, 11.344884488448844, 13.283828382838283, 14.026402640264028, 14.19141914191419, 14.273927392739274, 14.088283828382838, 14.273927392739274, 14.377062706270626, 15.099009900990099, 15.07838283828383, 14.85148514851485, 14.892739273927393, 14.78960396039604]
    
    % % % IMAGENET-raw20-backprop
    % % 
    % % % Dataset: IMAGENET
    % % % Data Type: Raw
    % % % Percentage of data: 20%
    % % % Architecture: [3082,1024,10]
    % % % Ativation: Sigmoid
    % % % Optimizer: adam
    
    % ok
    Train_loss_backprop=[0.21775715053081512, 0.21660064160823822, 0.2154989242553711, 0.2146228700876236, 0.2137039750814438, 0.21322539448738098, 0.2116996943950653, 0.21072836220264435, 0.20925338566303253, 0.20997673273086548, 0.20919029414653778, 0.20885248482227325, 0.20882642269134521, 0.20888155698776245, 0.20897433161735535]
    Train_accuracy_backprop=[0.05107296258211136, 0.08969957381486893, 0.10128755122423172, 0.1300429254770279, 0.15493562817573547, 0.16266094148159027, 0.18841201066970825, 0.19270385801792145, 0.21502146124839783, 0.21330472826957703, 0.22231759130954742, 0.241201713681221, 0.22317597270011902, 0.23047210276126862, 0.22832618653774261]*100;
    Valid_loss_backprop=[0.2171303629875183, 0.21501901745796204, 0.21590986847877502, 0.21451762318611145, 0.2152506411075592, 0.2136366069316864, 0.21276262402534485, 0.21216492354869843, 0.21258626878261566, 0.21202917397022247, 0.21197350323200226, 0.21264223754405975, 0.21289655566215515, 0.21533070504665375, 0.21548962593078613]
    Valid_accuracy_backprop=[0.09574468433856964, 0.10947151482105255, 0.12251201272010803, 0.1352093368768692, 0.13383665680885315, 0.15511325001716614, 0.1733013093471527, 0.17604666948318481, 0.17638984322547913, 0.19080302119255066, 0.20109814405441284, 0.18496911227703094, 0.2000686377286911, 0.18291008472442627, 0.1705559343099594]*100;
end



subplot(2,1,1);

plot(Train_accuracy, 'LineWidth',3)
hold on

plot(Valid_accuracy, '--','LineWidth',3)
hold on

plot(Train_accuracy_feat, 'LineWidth',3);
hold on

plot(Valid_accuracy_feat, '--','LineWidth',3);
hold on

plot(Train_accuracy_backprop, 'LineWidth',3)
hold on

plot(Valid_accuracy_backprop, '--','LineWidth',3)
hold off

legend('Train (PC)', 'Validation (PC)', 'Train (PC + Features)', 'Validation (PC + Features)', 'Train (Backprop)', 'Validation (Backprop)', 'FontSize', 12)
title('Metric: Accuracy', 'FontSize', 13)
xlabel('Epoch', 'FontSize', 13) 
ylabel('Accuracy (perc.)', 'FontSize', 13)

% Set plot 1 ranges
set(gca,'XTick',1:15);
axis([1 15 -5 35])


subplot(2,1,2);

plot(Train_loss, 'LineWidth',3);
hold on

plot(Valid_loss, '--','LineWidth',3);
hold on

plot(Train_loss_feat, 'LineWidth',3);
hold on

h =  plot(Valid_loss_feat, '--','LineWidth',3);
hold on

plot(Train_loss_backprop, 'LineWidth',3)
hold on

plot(Valid_loss_backprop, '--','LineWidth',3)
hold off

legend('Train (PC)', 'Validation (PC)', 'Train (PC + Features)', 'Validation (PC + Features)', 'Train (Backprop)', 'Validation (Backprop)', 'FontSize', 12)
title('Metric: Loss', 'FontSize', 13)
xlabel('Epoch', 'FontSize', 13) 
ylabel('Loss', 'FontSize', 13) 

% Set plot 2 ranges
set(gca,'XTick',1:15);
axis([1 15 0.2 0.25])


% No scientific notation
ax = ancestor(h, 'axes');
ax.XAxis.Exponent = 0;
xtickformat('%.0f'); 

% Padronize window size
x0=50;
y0=50;
width=980;
height=800;
set(gcf,'position',[x0,y0,width,height])

sgtitle(title2, 'FontSize', 15) 



























