graph_title_text = "Varying Network Depth";

backprop_train_acc_1 = [0.01]
backprop_val_acc_1= [0.01]
pc_train_acc_1= [0.01]
pc_val_acc_1= [0.01]

% exp _2
backprop_train_acc_2 = [0.925, 0.948, 0.952, 0.954, 0.955, 0.955, 0.958, 0.956, 0.956, 0.957, 0.958, 0.957, 0.957, 0.958, 0.959, 0.959, 0.96, 0.959, 0.958, 0.959]
backprop_val_acc_2   = [0.911, 0.918, 0.923, 0.919, 0.918, 0.92, 0.922, 0.919, 0.919, 0.922, 0.921, 0.924, 0.921, 0.92, 0.924, 0.922, 0.916, 0.921, 0.919, 0.92]
pc_train_acc_2       = [0.925, 0.953, 0.956, 0.959, 0.96, 0.961, 0.963, 0.964, 0.963, 0.965, 0.966, 0.965, 0.966, 0.968, 0.967, 0.968, 0.969, 0.969, 0.969, 0.969]
pc_val_acc_2         = [0.92, 0.926, 0.927, 0.924, 0.925, 0.925, 0.922, 0.926, 0.923, 0.924, 0.923, 0.923, 0.924, 0.923, 0.924, 0.925, 0.922, 0.923, 0.924, 0.922]

% exp _3
backprop_train_acc_3 = [0.893, 0.943, 0.948, 0.947, 0.95, 0.952, 0.951, 0.951, 0.951, 0.953, 0.953, 0.955, 0.955, 0.954, 0.953, 0.955, 0.955, 0.956, 0.956, 0.955]
backprop_val_acc_3   = [0.905, 0.913, 0.911, 0.911, 0.909, 0.916, 0.908, 0.908, 0.912, 0.915, 0.913, 0.911, 0.911, 0.911, 0.916, 0.911, 0.911, 0.913, 0.909, 0.91]
pc_train_acc_3       = [0.834, 0.955, 0.958, 0.959, 0.962, 0.964, 0.964, 0.964, 0.964, 0.967, 0.966, 0.966, 0.967, 0.967, 0.967, 0.966, 0.968, 0.968, 0.969, 0.967]
pc_val_acc_3         = [0.921, 0.918, 0.916, 0.916, 0.919, 0.92, 0.916, 0.918, 0.92, 0.92, 0.919, 0.915, 0.918, 0.916, 0.917, 0.918, 0.916, 0.918, 0.919, 0.91]

% exp _4
backprop_train_acc_4 = [0.822, 0.922, 0.93, 0.934, 0.936, 0.94, 0.94, 0.942, 0.944, 0.944, 0.945, 0.946, 0.947, 0.948, 0.948, 0.948, 0.949, 0.949, 0.95, 0.95]
backprop_val_acc_4   = [0.89, 0.898, 0.897, 0.907, 0.909, 0.902, 0.904, 0.91, 0.91, 0.906, 0.913, 0.908, 0.911, 0.906, 0.91, 0.913, 0.908, 0.909, 0.91, 0.905]
pc_train_acc_4       = [0.237, 0.886, 0.943, 0.948, 0.952, 0.955, 0.955, 0.958, 0.958, 0.958, 0.958, 0.96, 0.961, 0.961, 0.962, 0.962, 0.964, 0.964, 0.963, 0.963]
pc_val_acc_4         = [0.668, 0.904, 0.913, 0.915, 0.917, 0.912, 0.918, 0.914, 0.917, 0.918, 0.919, 0.919, 0.918, 0.916, 0.915, 0.919, 0.917, 0.917, 0.905, 0.913]

% exp _5
backprop_train_acc_5 = [0.705, 0.894, 0.91, 0.918, 0.924, 0.928, 0.931, 0.934, 0.935, 0.935, 0.937, 0.939, 0.94, 0.943, 0.941, 0.943, 0.942, 0.944, 0.944, 0.944]
backprop_val_acc_5   = [0.849, 0.871, 0.886, 0.891, 0.897, 0.899, 0.892, 0.902, 0.902, 0.898, 0.9, 0.896, 0.901, 0.901, 0.902, 0.908, 0.905, 0.896, 0.903, 0.904]
pc_train_acc_5       = [0.02, 0.02, 0.021, 0.021, 0.02, 0.021, 0.02, 0.02, 0.021, 0.019, 0.021, 0.021, 0.02, 0.021, 0.019, 0.021, 0.02, 0.019, 0.02, 0.02]
pc_val_acc_5         = [0.021, 0.021, 0.019, 0.021, 0.019, 0.018, 0.021, 0.02, 0.02, 0.019, 0.022, 0.02, 0.019, 0.021, 0.019, 0.02, 0.02, 0.023, 0.021, 0.021]

% exp _6
backprop_train_acc_6 = [0.595, 0.859, 0.887, 0.903, 0.909, 0.917, 0.92, 0.925, 0.924, 0.929, 0.93, 0.932, 0.933, 0.935, 0.937, 0.938, 0.938, 0.938, 0.94, 0.941]
backprop_val_acc_6   = [0.828, 0.862, 0.885, 0.882, 0.885, 0.882, 0.896, 0.892, 0.899, 0.901, 0.898, 0.903, 0.908, 0.905, 0.905, 0.907, 0.915, 0.905, 0.907, 0.911]
pc_train_acc_6       = [0.02, 0.021, 0.02, 0.022, 0.019, 0.02, 0.02, 0.021, 0.021, 0.021, 0.021, 0.02, 0.02, 0.021, 0.019, 0.019, 0.02, 0.021, 0.019, 0.019]
pc_val_acc_6         = [0.02, 0.021, 0.022, 0.02, 0.02, 0.021, 0.018, 0.02, 0.021, 0.019, 0.018, 0.02, 0.02, 0.022, 0.021, 0.02, 0.02, 0.02, 0.022, 0.02]



subplot(1,2,1);

% Backpropagation 
% Val accuracy
plot(backprop_val_acc_2*100, 'LineWidth',2)
hold on

plot(backprop_val_acc_3*100, 'LineWidth',2);
hold on

plot(backprop_val_acc_4*100, 'LineWidth',2);
hold on

plot(backprop_val_acc_5*100, 'LineWidth',2);
hold on

plot(backprop_val_acc_6*100, 'LineWidth',2);
hold on

% Train accuracy
plot(backprop_train_acc_2*100, ':','LineWidth',2);
hold on

plot(backprop_train_acc_3*100, ':','LineWidth',2);
hold on

plot(backprop_train_acc_4*100, ':','LineWidth',2);
hold on

plot(backprop_train_acc_5*100, ':','LineWidth',2)
hold on

plot(backprop_train_acc_6*100, ':','LineWidth',2)
hold off


title('Backpropagation Accuracy', 'FontSize', 13)
xlabel('Epoch', 'FontSize', 13) 
ylabel('Accuracy (perc.)', 'FontSize', 13)

% Set plot 1 ranges
set(gca,'XTick',1:2:20);
axis([1 20 50 100])


subplot(1,2,2);

% PC 
% Valid accuracy
plot(pc_val_acc_2*100,'LineWidth',2);
hold on

plot(pc_val_acc_3*100,'LineWidth',2);
hold on

plot(pc_val_acc_4*100,'LineWidth',2);
hold on

plot(pc_val_acc_5*100,'LineWidth',2)
hold on

plot(pc_val_acc_6*100,'LineWidth',2)
hold on

% Train accuracy
plot(pc_train_acc_2*100, ':','LineWidth',2);
hold on

plot(pc_train_acc_3*100, ':','LineWidth',2);
hold on

plot(pc_train_acc_4*100, ':','LineWidth',2);
hold on

plot(pc_train_acc_5*100, ':','LineWidth',2)
hold on

plot(pc_train_acc_6*100, ':','LineWidth',2)
hold off

legend('2 layers (val)', '3 layers (val)','4 layers (val)','5 layers (val)', '6 layers (val)', '2 layers (train)', '3 layers (train)','4 layers (train)','5 layers (train)', '6 layers (train)', 'FontSize', 12, 'Location','southeast')

title('Predictive Coding Accuracy', 'FontSize', 13)
xlabel('Epoch', 'FontSize', 13) 
ylabel('Loss', 'FontSize', 13) 

% Set plot 2 ranges
set(gca,'XTick',1:2:20);
axis([1 20 50 100])


% No scientific notation
% h =  plot(Valid_loss_feat, ':','LineWidth',2);
% ax = ancestor(h, 'axes');
% ax.XAxis.Exponent = 0;
xtickformat('%.0f'); 

% Padronize window size
x0=100;
y0=50;
width=1200;
height=600;
set(gcf,'position',[x0,y0,width,height])

sgtitle(graph_title_text, 'FontSize', 15) 


