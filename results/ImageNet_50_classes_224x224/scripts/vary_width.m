graph_title_text = "Varying Network Width";

% exp _1
backprop_train_acc_1 = [0.901, 0.946, 0.948, 0.949, 0.95, 0.952, 0.954, 0.953, 0.955, 0.956, 0.956, 0.957, 0.956, 0.956, 0.956, 0.958, 0.958, 0.957, 0.957, 0.957]
backprop_val_acc_1   = [0.922, 0.92, 0.92, 0.919, 0.923, 0.921, 0.923, 0.919, 0.923, 0.919, 0.924, 0.922, 0.922, 0.919, 0.921, 0.92, 0.918, 0.918, 0.923, 0.916]
pc_train_acc_1       = [0.919, 0.95, 0.952, 0.952, 0.954, 0.955, 0.955, 0.956, 0.957, 0.958, 0.957, 0.958, 0.959, 0.959, 0.958, 0.96, 0.959, 0.96, 0.96, 0.96]
pc_val_acc_1         = [0.924, 0.926, 0.926, 0.926, 0.928, 0.928, 0.927, 0.927, 0.926, 0.926, 0.924, 0.928, 0.928, 0.928, 0.928, 0.926, 0.927, 0.926, 0.925, 0.925]

% exp _2
backprop_train_acc_2 = [0.921, 0.949, 0.953, 0.954, 0.954, 0.955, 0.957, 0.957, 0.957, 0.957, 0.958, 0.959, 0.958, 0.96, 0.959, 0.958, 0.959, 0.96, 0.959, 0.961]
backprop_val_acc_2   = [0.915, 0.922, 0.911, 0.921, 0.918, 0.923, 0.925, 0.92, 0.917, 0.919, 0.92, 0.914, 0.917, 0.917, 0.915, 0.92, 0.921, 0.917, 0.917, 0.918]
pc_train_acc_2       = [0.922, 0.952, 0.955, 0.957, 0.958, 0.959, 0.961, 0.962, 0.961, 0.962, 0.964, 0.964, 0.964, 0.966, 0.965, 0.966, 0.965, 0.967, 0.966, 0.969]
pc_val_acc_2         = [0.922, 0.923, 0.92, 0.923, 0.922, 0.92, 0.923, 0.923, 0.922, 0.921, 0.922, 0.919, 0.922, 0.92, 0.919, 0.921, 0.922, 0.922, 0.919, 0.924]

% exp _3
backprop_train_acc_3 = [0.925, 0.949, 0.953, 0.953, 0.955, 0.955, 0.955, 0.957, 0.957, 0.957, 0.958, 0.958, 0.958, 0.959, 0.957, 0.96, 0.959, 0.959, 0.96, 0.96]
backprop_val_acc_3   = [0.915, 0.921, 0.924, 0.921, 0.918, 0.919, 0.927, 0.921, 0.922, 0.92, 0.92, 0.917, 0.923, 0.922, 0.922, 0.923, 0.92, 0.924, 0.923, 0.919]
pc_train_acc_3       = [0.923, 0.953, 0.956, 0.958, 0.961, 0.961, 0.963, 0.963, 0.964, 0.965, 0.966, 0.966, 0.967, 0.968, 0.966, 0.969, 0.968, 0.968, 0.969, 0.97]
pc_val_acc_3         = [0.923, 0.926, 0.924, 0.925, 0.925, 0.922, 0.926, 0.927, 0.926, 0.924, 0.926, 0.925, 0.926, 0.927, 0.922, 0.925, 0.924, 0.924, 0.921, 0.924]

% exp _4
backprop_train_acc_4 = [0.925, 0.946, 0.949, 0.951, 0.951, 0.952, 0.954, 0.955, 0.955, 0.955, 0.957, 0.956, 0.957, 0.956, 0.956, 0.957, 0.957, 0.958, 0.957, 0.959]
backprop_val_acc_4   = [0.918, 0.911, 0.916, 0.917, 0.919, 0.92, 0.915, 0.918, 0.921, 0.916, 0.917, 0.921, 0.917, 0.917, 0.912, 0.918, 0.917, 0.915, 0.92, 0.922]
pc_train_acc_4       = [0.915, 0.953, 0.955, 0.958, 0.96, 0.961, 0.962, 0.964, 0.964, 0.964, 0.965, 0.967, 0.968, 0.968, 0.967, 0.968, 0.969, 0.969, 0.969, 0.969]
pc_val_acc_4         = [0.921, 0.92, 0.923, 0.923, 0.924, 0.925, 0.923, 0.924, 0.923, 0.919, 0.923, 0.923, 0.92, 0.922, 0.921, 0.92, 0.921, 0.923, 0.925, 0.922]

% exp _5
backprop_train_acc_5 = [0.919, 0.94, 0.943, 0.945, 0.949, 0.946, 0.949, 0.949, 0.95, 0.95, 0.951, 0.95, 0.952, 0.953, 0.951, 0.952, 0.952, 0.953, 0.953, 0.953]
backprop_val_acc_5   = [0.915, 0.917, 0.915, 0.913, 0.916, 0.904, 0.916, 0.912, 0.912, 0.923, 0.92, 0.915, 0.922, 0.911, 0.91, 0.918, 0.917, 0.915, 0.914, 0.918]
pc_train_acc_5       = [0.9, 0.951, 0.954, 0.957, 0.959, 0.96, 0.961, 0.962, 0.963, 0.964, 0.964, 0.965, 0.966, 0.968, 0.968, 0.969, 0.969, 0.969, 0.97, 0.97]
pc_val_acc_5         = [0.924, 0.925, 0.923, 0.925, 0.927, 0.923, 0.925, 0.925, 0.923, 0.923, 0.925, 0.924, 0.924, 0.924, 0.921, 0.92, 0.923, 0.923, 0.921, 0.924]


subplot(1,2,1);

% Backpropagation 
% Val accuracy
plot(backprop_val_acc_1*100, 'LineWidth',2)
hold on

plot(backprop_val_acc_2*100, 'LineWidth',2)
hold on

plot(backprop_val_acc_3*100, 'LineWidth',2);
hold on

plot(backprop_val_acc_4*100, 'LineWidth',2);
hold on

plot(backprop_val_acc_5*100, 'LineWidth',2);
hold on

% Train accuracy
plot(backprop_train_acc_1*100, ':','LineWidth',2);
hold on

plot(backprop_train_acc_2*100, ':','LineWidth',2);
hold on

plot(backprop_train_acc_3*100, ':','LineWidth',2);
hold on

plot(backprop_train_acc_4*100, ':','LineWidth',2);
hold on

plot(backprop_train_acc_5*100, ':','LineWidth',2)
hold off



title('Backpropagation Accuracy', 'FontSize', 13)
xlabel('Epoch', 'FontSize', 13) 
ylabel('Accuracy (perc.)', 'FontSize', 13)

% Set plot 1 ranges
set(gca,'XTick',1:2:20);
axis([1 20 82 100])


subplot(1,2,2);

% PC 
% Valid accuracy
plot(pc_val_acc_1*100,'LineWidth',2);
hold on

plot(pc_val_acc_2*100,'LineWidth',2);
hold on

plot(pc_val_acc_3*100,'LineWidth',2);
hold on

plot(pc_val_acc_4*100,'LineWidth',2);
hold on

plot(pc_val_acc_5*100,'LineWidth',2)
hold on

% Train accuracy
plot(pc_train_acc_1*100, ':','LineWidth',2);
hold on

plot(pc_train_acc_2*100, ':','LineWidth',2);
hold on

plot(pc_train_acc_3*100, ':','LineWidth',2);
hold on

plot(pc_train_acc_4*100, ':','LineWidth',2);
hold on

plot(pc_train_acc_5*100, ':','LineWidth',2)
hold off

legend('64 neurons (val)', '128 neurons (val)','256 neurons (val)','512 neurons (val)', '1024 neurons (val)', '64 neurons (train)','128 neurons (train)','256 neurons (train)', '512 neurons (train)', '1024 neurons (train)', 'FontSize', 12, 'Location','southeast')

title('Predictive Coding Accuracy', 'FontSize', 13)
xlabel('Epoch', 'FontSize', 13) 
ylabel('Loss', 'FontSize', 13) 

% Set plot 2 ranges
set(gca,'XTick',1:2:20);
axis([1 20 82 100])


% No scientific notation
% h =  plot(Valid_loss_feat, ':','LineWidth',2);
% ax = ancestor(h, 'axes');
% ax.XAxis.Exponent = 0;
xtickformat('%.0f'); 

% Padronize window size
x0=100;
y0=50;
width=1200;
height=600;
set(gcf,'position',[x0,y0,width,height])

sgtitle(graph_title_text, 'FontSize', 15) 


